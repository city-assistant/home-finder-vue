{"version":3,"sources":["webpack:///./src/views/MyPage.vue?ac2f","webpack:///src/views/MyPage.vue","webpack:///./src/views/MyPage.vue?f7a7","webpack:///./src/views/MyPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","on","logOut","model","value","callback","$$v","homeType","expression","staticClass","_l","item","index","key","_s","city","$event","deleteUserInterest","passData","_e","staticRenderFns","name","components","LineChart","mounted","$cookies","get","getUserInterestList","alert","$router","push","data","userSavedList","loaded","watch","methods","getCityData","translated","labels","key_as_string","datas","console","log","remove","component"],"mappings":"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","file":"js/chunk-2d0d6d45.a19ee57d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"myPage\"}},[_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_vm._v(\" MyPage \"),_c('button',{on:{\"click\":_vm.logOut}},[_vm._v(\" logout\")]),_c('br'),_c('br'),_c('el-radio-group',{attrs:{\"size\":\"mini\"},model:{value:(_vm.homeType),callback:function ($$v) {_vm.homeType=$$v},expression:\"homeType\"}},[_c('el-radio-button',{attrs:{\"label\":\"officetel\"}},[_vm._v(\"오피스텔\")]),_c('el-radio-button',{attrs:{\"label\":\"apartment\"}},[_vm._v(\"아파트\")]),_c('el-radio-button',{attrs:{\"label\":\"single\"}},[_vm._v(\"단독다가구\")]),_c('el-radio-button',{attrs:{\"label\":\"multiple\"}},[_vm._v(\"연립다세대\")])],1),_c('div',{staticClass:\"wrapper\"},_vm._l((_vm.userSavedList),function(item,index){return _c('div',{key:index,staticClass:\"longBox\"},[_c('div',{staticClass:\"innerBox\"},[_vm._v(\" \"+_vm._s(item.city)+\" \"),_c('button',{on:{\"click\":function($event){return _vm.deleteUserInterest(item.city)}}},[_vm._v(\"del\")])]),(_vm.loaded)?_c('LineChart',{staticClass:\"chart\",attrs:{\"passData\":_vm.passData[item.city]}}):_vm._e()],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"myPage\">\r\n    <br /><br /><br /><br /><br /><br />\r\n    MyPage\r\n    <button v-on:click=\"logOut\">\r\n      logout</button\r\n    ><br /><br />\r\n    <el-radio-group v-model=\"homeType\" size=\"mini\">\r\n      <el-radio-button label=\"officetel\">오피스텔</el-radio-button>\r\n      <el-radio-button label=\"apartment\">아파트</el-radio-button>\r\n      <el-radio-button label=\"single\">단독다가구</el-radio-button>\r\n      <el-radio-button label=\"multiple\">연립다세대</el-radio-button>\r\n    </el-radio-group>\r\n    <div class=\"wrapper\">\r\n      <div class=\"longBox\" v-for=\"(item, index) in userSavedList\" :key=\"index\">\r\n        <div class=\"innerBox\">\r\n          {{ item.city }}\r\n          <button v-on:click=\"deleteUserInterest(item.city)\">del</button>\r\n        </div>\r\n        <LineChart\r\n          :passData=\"passData[item.city]\"\r\n          class=\"chart\"\r\n          v-if=\"loaded\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from \"../store/store\";\r\nimport axios from \"axios\";\r\nimport LineChart from \"../components/charts/LineChart\";\r\n\r\nexport default {\r\n  name: \"MyPage\",\r\n  components: {\r\n    LineChart,\r\n  },\r\n  mounted: function() {\r\n    if (this.$cookies.get(\"userToken\")) {\r\n      this.getUserInterestList();\r\n    } else {\r\n      alert(\"로그인해주세요\");\r\n      this.$router.push(\"/login\");\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      userSavedList: [],\r\n      passData: {},\r\n      loaded: {},\r\n      homeType: \"officetel\",\r\n    };\r\n  },\r\n  watch: {\r\n    homeType: function() {\r\n      this.getUserInterestList();\r\n    },\r\n  },\r\n  methods: {\r\n    getCityData(injectData) {\r\n      let userToken = this.$cookies.get(\"userToken\");\r\n      axios\r\n        .post(\r\n          store.state.SPRING_SERVER + \"prefixSearch\",\r\n          { city: injectData, homeType: this.homeType },\r\n          { headers: { Authorization: \"Bearer \" + userToken } }\r\n        )\r\n        .then((res) => {\r\n          this.loaded = false;\r\n          let labels = [];\r\n          let datas = [];\r\n          for (let data of res.data.aggregations.result.buckets) {\r\n            if (data.translated) {\r\n              labels.push(data.key_as_string);\r\n              datas.push(data.translated.value);\r\n            }\r\n          }\r\n          this.passData[injectData] = {\r\n            labels: labels,\r\n            datasets: [{ data: datas, label: \"10평당 합계지수\" }],\r\n          };\r\n          this.loaded = true;\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    deleteUserInterest(city) {\r\n      console.log(city);\r\n      let userToken = this.$cookies.get(\"userToken\");\r\n      axios\r\n        .post(\r\n          store.state.SPRING_SERVER + \"deleteUserInterest\",\r\n          { userToken: userToken, city: city },\r\n          { headers: { Authorization: \"Bearer \" + userToken } }\r\n        )\r\n        .then((res) => {\r\n          res.data;\r\n          alert(\"삭제되었습니다.\");\r\n          location.reload();\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    getUserInterestList() {\r\n      let userToken = this.$cookies.get(\"userToken\");\r\n      axios\r\n        .post(\r\n          store.state.SPRING_SERVER + \"getUserInterestListByUserId\",\r\n          { userToken: userToken },\r\n          { headers: { Authorization: \"Bearer \" + userToken } }\r\n        )\r\n        .then((res) => {\r\n          this.userSavedList = res.data;\r\n          for (let inject of res.data) {\r\n            this.getCityData(inject.city);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    logOut() {\r\n      this.$cookies.remove(\"userToken\");\r\n      alert(\"로그아웃 되었습니다\");\r\n      this.$router.push(\"/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyPage.vue?vue&type=template&id=916fe116&\"\nimport script from \"./MyPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MyPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}