(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d45"],{"73e8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"myPage"}},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),t._v(" MyPage "),a("button",{on:{click:t.logOut}},[t._v(" logout")]),a("br"),a("br"),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.homeType,callback:function(e){t.homeType=e},expression:"homeType"}},[a("el-radio-button",{attrs:{label:"officetel"}},[t._v("오피스텔")]),a("el-radio-button",{attrs:{label:"apartment"}},[t._v("아파트")]),a("el-radio-button",{attrs:{label:"single"}},[t._v("단독다가구")]),a("el-radio-button",{attrs:{label:"multiple"}},[t._v("연립다세대")])],1),a("div",{staticClass:"wrapper"},t._l(t.userSavedList,(function(e,s){return a("div",{key:s,staticClass:"longBox"},[a("div",{staticClass:"innerBox"},[t._v(" "+t._s(e.city)+" "),a("button",{on:{click:function(a){return t.deleteUserInterest(e.city)}}},[t._v("del")])]),t.loaded?a("LineChart",{staticClass:"chart",attrs:{passData:t.passData[e.city]}}):t._e()],1)})),0)],1)},r=[],n=a("b85c"),o=a("07a4"),i=a("bc3a"),l=a.n(i),c=a("33e7"),u={name:"MyPage",components:{LineChart:c["a"]},mounted:function(){this.$cookies.get("userToken")?this.getUserInterestList():(alert("로그인해주세요"),this.$router.push("/login"))},data:function(){return{userSavedList:[],passData:{},loaded:{},homeType:"officetel"}},watch:{homeType:function(){this.getUserInterestList()}},methods:{getCityData:function(t){var e=this,a=this.$cookies.get("userToken");l.a.post(o["a"].state.SPRING_SERVER+"prefixSearch",{city:t,homeType:this.homeType},{headers:{Authorization:"Bearer "+a}}).then((function(a){e.loaded=!1;var s,r=[],o=[],i=Object(n["a"])(a.data.aggregations.result.buckets);try{for(i.s();!(s=i.n()).done;){var l=s.value;l.translated&&(r.push(l.key_as_string),o.push(l.translated.value))}}catch(c){i.e(c)}finally{i.f()}e.passData[t]={labels:r,datasets:[{data:o,label:"10평당 합계지수"}]},e.loaded=!0})).catch((function(t){alert(t)}))},deleteUserInterest:function(t){console.log(t);var e=this.$cookies.get("userToken");l.a.post(o["a"].state.SPRING_SERVER+"deleteUserInterest",{userToken:e,city:t},{headers:{Authorization:"Bearer "+e}}).then((function(t){t.data,alert("삭제되었습니다."),location.reload()})).catch((function(t){alert(t)}))},getUserInterestList:function(){var t=this,e=this.$cookies.get("userToken");l.a.post(o["a"].state.SPRING_SERVER+"getUserInterestListByUserId",{userToken:e},{headers:{Authorization:"Bearer "+e}}).then((function(e){t.userSavedList=e.data;var a,s=Object(n["a"])(e.data);try{for(s.s();!(a=s.n()).done;){var r=a.value;t.getCityData(r.city)}}catch(o){s.e(o)}finally{s.f()}})).catch((function(t){alert(t)}))},logOut:function(){this.$cookies.remove("userToken"),alert("로그아웃 되었습니다"),this.$router.push("/")}}},d=u,h=a("2877"),p=Object(h["a"])(d,s,r,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0d6d45.a19ee57d.js.map